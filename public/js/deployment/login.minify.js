console.log("login js connected");const loginFormHandler=async a=>{a.preventDefault();const b=document.querySelector("#email-login").value.trim(),c=document.querySelector("#password-login").value.trim();if(b&&c||sendAlert("Must include email and password before signing in.","danger",".login-button"),b&&c){const a=await fetch("/api/users/login",{method:"POST",body:JSON.stringify({email:b,password:c}),headers:{"Content-Type":"application/json"}});a.ok&&(document.location.replace("/dashboard/profile"),console.log("user logged in")),400===a.status?sendAlert("Incorrect email or password, please try again.","danger",".login-button"):sendAlert("Server Error, unable to login","danger",".login-button")}};function sendAlert(a,b,c){$(".bootstrap-growl").remove(),$.bootstrapGrowl(a,{ele:c,type:b,align:"center",delay:2e3})}var radios=document.querySelectorAll("input[name=\"userRadio\"]");const nannyQuestions=document.getElementById("nannyQuestions");nannyQuestions.style.display="none";const parentQuestions=document.getElementById("parentQuestions");parentQuestions.style.display="none",radios.forEach(a=>{a.addEventListener("change",()=>{console.log(a.value),"nanny"==a.value?(nannyQuestions.style.display="block",parentQuestions.style.display="none"):(nannyQuestions.style.display="none",parentQuestions.style.display="block")})});const signupFormHandler=async a=>{a.preventDefault();try{const a=new FormData;let b="";const c=document.querySelector("#name-signup").value.trim();a.append("name",c);const d=document.querySelector("#email-signup").value.trim();a.append("email",d);const e=document.querySelector("#password-signup").value.trim();a.append("password",e);const f=document.querySelector("#userBio").value.trim();a.append("bio",f);const g=document.querySelector("#numberOfKids").value;a.append("number_of_children",g);const h=document.querySelector("#experience_years").value;a.append("experience_years",h);const i=document.querySelector("#certifications").value;a.append("certification",i);const j=document.querySelector("#hourly_rate").value;a.append("hourly_rate",j);const k=document.querySelector("#nannyAge").value;a.append("nanny_age",k);const l=document.querySelector("#age_range").value;a.append("age_range",l);const m=document.querySelector("#photo").files[0];a.append("photo",m),c&&d&&e&&f&&b&&(g||i&&j&&l&&h&&k)||sendAlert("All Fields must have valid entries.","danger",".signup-button"),""===h?(b="parent",a.append("user_type",b)):(b="nanny",a.append("user_type",b));const n=await fetch("/api/users",{method:"POST",body:a});n.ok?(document.location.replace("/dashboard/profile"),console.log("successful signup")):(sendAlert("Error with signing up","danger",".signup-button"),console.log("sign up did not work",n))}catch(a){console.log(a)}};document.querySelector(".login-form").addEventListener("submit",loginFormHandler),document.querySelector(".signup-form").addEventListener("submit",signupFormHandler);